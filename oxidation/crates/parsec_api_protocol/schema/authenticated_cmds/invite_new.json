{
    "label": "InviteNew",
    "req": {
        "cmd": "invite_new",
        "unit": "UserOrDevice",
        "other_fields": []
    },
    "reps": [
        {
            "status": "ok",
            "other_fields": [
                {
                    "name": "token",
                    "type": "InvitationToken"
                },
                // Field used when the invitation is correctly created but the invitation email cannot be sent
                {
                    "name": "email_sent",
                    "type": "InvitationEmailSentStatus"
                }
            ]
        },
        {
            "status": "not_allowed",
            "other_fields": []
        },
        {
            "status": "already_member",
            "other_fields": []
        },
        {
            "status": "not_available",
            "other_fields": []
        }
    ],
    "nested_types": [
        {
            "label": "UserOrDevice",
            "tag": "type",
            "variants": [
                {
                    "name": "User",
                    "discriminant_value": "USER",
                    "fields": [
                        {
                            "name": "claimer_email",
                            "type": "String"
                        },
                        {
                            "name": "send_email",
                            "type": "Boolean"
                        }
                    ]
                },
                {
                    "name": "Device",
                    "discriminant_value": "DEVICE",
                    "fields": [
                        {
                            "name": "send_email",
                            "type": "Boolean"
                        }
                    ]
                }
            ]
        },
        {
            "label": "InvitationEmailSentStatus",
            "variants": [
                {
                    "name": "Success",
                    "discriminant_value": "SUCCESS",
                    "fields": []
                },
                {
                    "name": "NotAvailable",
                    "discriminant_value": "NOT_AVAILABLE",
                    "fields": []
                },
                {
                    "name": "BadRecipient",
                    "discriminant_value": "BAD_RECIPIENT",
                    "fields": []
                }
            ]
        }
    ]
}
